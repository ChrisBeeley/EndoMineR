<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>CRIM status Barrett's — Barretts_CRIM • EndoMineR</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  <link href="../extra.css" rel="stylesheet">
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">EndoMineR</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/EndoMineRPrinciples.html">EndoMineR Principles</a>
    </li>
    <li>
      <a href="../articles/EndoMineR.html">Package overview</a>
    </li>
    <li>
      <a href="../articles/Analysis.html">Analysis</a>
    </li>
    <li>
      <a href="../articles/Barretts.html">Barrett's</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="http://gastrodatascience.com">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>CRIM status Barrett's</h1>
    </div>

    
    <p>This collects the patients in whom it is assumed that complete clearance of
intestinal metasplasia has occurred (CRIM) after ablation therapy.
This is done by collecting those endoscopies where the last EVENT was
equal to 'nothing' when the patient had undergone radiofrequency ablation at
some point</p>
    

    <pre class="usage"><span class='fu'>Barretts_CRIM</span>(<span class='no'>dataframe</span>, <span class='no'>HospNum</span>, <span class='no'>EVENT</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dataframe</th>
      <td><p>The dataframe</p></td>
    </tr>
    <tr>
      <th>HospNum</th>
      <td><p>The Hospital Number column</p></td>
    </tr>
    <tr>
      <th>EVENT</th>
      <td><p>The column  called EVENT that determines what procedure the
patient had at that endoscopy</p></td>
    </tr>
    </table>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Firstly relevant columns are extrapolated from the</span>
<span class='co'># Mypath demo dataset. These functions are all part of Histology data</span>
<span class='co'># cleaning as part of the package.</span>
<span class='no'>v</span><span class='kw'>&lt;-</span><span class='fu'><a href='HistolAccessionNumber.html'>HistolAccessionNumber</a></span>(<span class='no'>Mypath</span>,<span class='st'>'Histology'</span>,
<span class='st'>'SP-\\d{2}-\\d{7}'</span>)
<span class='no'>v</span><span class='kw'>&lt;-</span><span class='fu'><a href='HistolDx.html'>HistolDx</a></span>(<span class='no'>v</span>,<span class='st'>'Diagnosis'</span>)</div><div class='output co'>#&gt; <span class='warning'>Warning: provided 11 variables to replace 1 variables</span></div><div class='input'><span class='no'>v</span><span class='kw'>&lt;-</span><span class='fu'><a href='HistolExtrapolDx.html'>HistolExtrapolDx</a></span>(<span class='no'>v</span>,<span class='st'>'Diagnosis'</span>)
<span class='no'>v</span><span class='kw'>&lt;-</span><span class='fu'><a href='HistolNumbOfBx.html'>HistolNumbOfBx</a></span>(<span class='no'>v</span>,<span class='st'>'Macroscopicdescription'</span>,<span class='st'>'specimen'</span>)
<span class='no'>v</span><span class='kw'>&lt;-</span><span class='fu'><a href='HistolBxSize.html'>HistolBxSize</a></span>(<span class='no'>v</span>,<span class='st'>'Macroscopicdescription'</span>)
<span class='co'># The histology is then merged with the Endoscopy dataset. The merge occurs</span>
<span class='co'># according to date and Hospital number</span>
<span class='no'>v</span><span class='kw'>&lt;-</span><span class='fu'><a href='Endomerge2.html'>Endomerge2</a></span>(<span class='no'>Myendo</span>,<span class='st'>'Dateofprocedure'</span>,<span class='st'>'HospitalNumber'</span>,<span class='no'>v</span>,<span class='st'>'Dateofprocedure'</span>,
<span class='st'>'HospitalNumber'</span>)
<span class='co'># The function relies on the other Barrett's functions being run as well:</span>
<span class='no'>b1</span><span class='kw'>&lt;-</span><span class='fu'><a href='Barretts_PragueScore.html'>Barretts_PragueScore</a></span>(<span class='no'>v</span>,<span class='st'>'Findings'</span>)
<span class='no'>b2</span><span class='kw'>&lt;-</span><span class='fu'><a href='Barretts_PathStage.html'>Barretts_PathStage</a></span>(<span class='no'>b1</span>,<span class='st'>'Histology'</span>)
<span class='no'>b3</span><span class='kw'>&lt;-</span><span class='fu'><a href='Barretts_EventType.html'>Barretts_EventType</a></span>(<span class='no'>b2</span>,<span class='st'>'Histology'</span>,
<span class='st'>'ProcedurePerformed'</span>,<span class='st'>'Indications'</span>,<span class='st'>'Findings'</span>)
<span class='fu'>colnames</span>(<span class='no'>b3</span>)[<span class='fu'>colnames</span>(<span class='no'>b3</span>) <span class='kw'>==</span> <span class='st'>'pHospitalNum'</span>] <span class='kw'>&lt;-</span> <span class='st'>'HospitalNumber'</span>
<span class='co'># The function groups the procedures by patient and then looks at those which</span>
<span class='co'># have 'nothing' in the event column (which means biopsies only) which was</span>
<span class='co'># preceded by radiofrequency ablation (RFA) so that these patients are</span>
<span class='co'># labelled as having clearance of intestinal metaplasia. The result is a true</span>
<span class='co'># or false column.</span>
<span class='fu'>Barretts_CRIM</span>(<span class='no'>b3</span>,<span class='st'>'HospitalNumber'</span>,<span class='st'>"EVENT"</span>)</div><div class='output co'>#&gt; # A tibble: 578 x 44
#&gt; # Groups:   HospitalNumber [97]
#&gt;    PathReportWhole          HospitalNumber PatientName.x DOB   GeneralPractiti…
#&gt;    &lt;chr&gt;                    &lt;chr&gt;          &lt;chr&gt;         &lt;chr&gt; &lt;chr&gt;           
#&gt;  1 "SP-22-4817508\nHospita… " A1648588\n"  "  Page, Aie… "  1… " Dr\n Kane, Sa…
#&gt;  2 "SP-24-9461967\nHospita… " A1648588\n"  "  al-Zafar,… "  1… " Dr\n Gavin, L…
#&gt;  3 "SP-77-2775965\nHospita… " A1648588\n"  "  al-Ebrahi… "  1… " Dr\n Sands, M…
#&gt;  4 "SP-72-6139190\nHospita… " A1648588\n"  "  Jamerson,… "  1… " Dr\n al-Korom…
#&gt;  5 "SP-83-6838873\nHospita… " A1648588\n"  "  Fitzpatri… "  1… " Dr\n Miller, …
#&gt;  6 "SP-29-1590254\nHospita… " A1648588\n"  "  el-Radwan… "  1… " Dr\n al-Radwa…
#&gt;  7 "SP-79-1431892\nHospita… " A3962018\n"  "  el-Sadri,… "  1… " Dr\n Baker, E…
#&gt;  8 "SP-84-9745332\nHospita… " A3962018\n"  "  Vaughan, … "  1… " Dr\n Lopez Co…
#&gt;  9 "SP-57-5567005\nHospita… " A3962018\n"  "  Thomas-Mo… "  1… " Dr\n Grano, K…
#&gt; 10 "SP-59-7507017\nHospita… " A3962018\n"  "  el-Murad,… "  1… " Dr\n Ten, Che…
#&gt; # ... with 568 more rows, and 39 more variables: Date.x &lt;date&gt;,
#&gt; #   ClinicalDetails &lt;chr&gt;, Macroscopicdescription &lt;chr&gt;, Histology &lt;chr&gt;,
#&gt; #   Diagnosis &lt;chr&gt;, AccessionNumber &lt;chr&gt;, Dx_Simplified &lt;chr&gt;, Cancer &lt;chr&gt;,
#&gt; #   Dysplasia &lt;chr&gt;, GIST &lt;chr&gt;, NumbOfBx &lt;dbl&gt;, BxSize &lt;dbl&gt;,
#&gt; #   OGDReportWhole &lt;chr&gt;, eHospitalNum &lt;chr&gt;, PatientName.y &lt;chr&gt;,
#&gt; #   GeneralPractitioner.y &lt;chr&gt;, Date.y &lt;date&gt;, Endoscopist &lt;chr&gt;,
#&gt; #   Secondendoscopist &lt;chr&gt;, Medications &lt;chr&gt;, Instrument &lt;chr&gt;,
#&gt; #   ExtentofExam &lt;chr&gt;, Indications &lt;chr&gt;, ProcedurePerformed &lt;chr&gt;,
#&gt; #   Findings &lt;chr&gt;, NA. &lt;dbl&gt;, NA..1 &lt;dbl&gt;, NA..2 &lt;dbl&gt;, NA..3 &lt;dbl&gt;,
#&gt; #   NA..4 &lt;dbl&gt;, NA..5 &lt;dbl&gt;, Fent &lt;dbl&gt;, Midaz &lt;dbl&gt;, Days &lt;time&gt;,
#&gt; #   CStage &lt;dbl&gt;, MStage &lt;dbl&gt;, IMorNoIM &lt;chr&gt;, EVENT &lt;chr&gt;, ind &lt;lgl&gt;</div><div class='input'><span class='fu'>rm</span>(<span class='no'>v</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
            
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Sebastian Zeki.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
